# ==============================================
# Django Environment Variables Reference
# ==============================================
# Copy this file to .env and adjust values as needed.
# Note: .env is ignored by git to protect secrets.

# ----------------------------------------------
# Core Settings
# ----------------------------------------------
# Enable debug mode for development (False for production)
DEBUG=True
# Environment name: "development" or "production"
ENVIRONMENT=development
# Secret key for cryptographic signing (Keep secret in production!)
SECRET_KEY=dev-secret-key-change-in-production
# Time zone (default: America/Los_Angeles)
TIME_ZONE=America/Los_Angeles
# Django settings module (defaults to core.settings.dev in manage.py if unset)
# DJANGO_SETTINGS_MODULE=core.settings.dev

# ----------------------------------------------
# Database Configuration
# ----------------------------------------------
# Profile selection: "local" or "gcp"
DB_PROFILE=local

# [Profile: local]
# Connection URL for local development
# SQLite: sqlite:///db.sqlite3
# PostgreSQL: postgres://user:password@localhost:5432/dbname
# MySQL: mysql://user:password@localhost:3306/dbname
DATABASE_URL_LOCAL=sqlite:///db.sqlite3

# [Profile: gcp]
# Connection URL for GCP environment (Cloud SQL)
# Postgres (Unix Socket): postgres://user:pass@/dbname?host=/cloudsql/PROJECT:REGION:INSTANCE
DATABASE_URL_GCP=

# Connection pooling (seconds)
DB_CONN_MAX_AGE=60
# SSL Mode: "", "require", "verify-ca", "verify-full"
DB_SSL_MODE=
# Disable SSL cert verification (True/False)
DB_SSL_DISABLE_VERIFY=False

# [Legacy/Fallback Discrete Variables]
# Used if DB_PROFILE is not set or DATABASE_URL is missing
# DB_ENGINE=postgresql
# DB_NAME=
# DB_USER=
# DB_PASSWORD=
# DB_HOST=
# DB_PORT=
# CLOUDSQL_UNIX_SOCKET=

# ----------------------------------------------
# Security & CORS
# ----------------------------------------------
# Allowed hosts (comma-separated)
ALLOWED_HOSTS=localhost,127.0.0.1

# [Development]
# Frontend origins allowed for CORS in development
CORS_ALLOWED_ORIGINS_DEV=http://localhost:5173,http://127.0.0.1:5173,http://localhost:8080,http://127.0.0.1:8080

# [Production]
# Frontend origins allowed for CORS in production (REQUIRED)
CORS_ALLOWED_ORIGINS=https://myapp.com

# Trusted origins for CSRF (Django 5+)
# Include scheme://host for both backend and frontend
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://localhost:5173

# Allow credentials (cookies) in CORS requests
CORS_ALLOW_CREDENTIALS=True

# Backend origin URL (used for CSRF trusted list)
BACKEND_ORIGIN=http://localhost:8000

# ----------------------------------------------
# Production Security Toggles
# ----------------------------------------------
# Redirect HTTP to HTTPS
SECURE_SSL_REDIRECT=True
# HSTS seconds (default 2 years: 63072000)
SECURE_HSTS_SECONDS=63072000
# CSP Policy (Content Security Policy)
# Default: "default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:"
CSP_DEFAULT_POLICY=

# ----------------------------------------------
# Authentication & JWT
# ----------------------------------------------
# Max failed login attempts before lockout
MAX_FAILED_LOGIN_ATTEMPTS=5
# Account lockout duration in minutes
ACCOUNT_LOCKOUT_DURATION=30
# JWT Refresh token lifetime in days (default: 7)
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7
# Login challenge TTL in seconds (default: 120)
LOGIN_CHALLENGE_TTL_SECONDS=120

# ----------------------------------------------
# Admin Interface
# ----------------------------------------------
# URL path for admin interface (obfuscate in production)
ADMIN_URL_PATH=admin
# Allowed IPs for admin access (comma-separated, empty allows all)
ADMIN_ALLOWED_IPS=
# Admin session duration in seconds (default: 7200 = 2 hours)
ADMIN_SESSION_COOKIE_AGE=7200

# Superuser creation (initadmin command)
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=admin

# ----------------------------------------------
# Caching
# ----------------------------------------------
# Backend: "django.core.cache.backends.locmem.LocMemCache" or others
CACHE_BACKEND=django.core.cache.backends.locmem.LocMemCache
CACHE_LOCATION=unique-snowflake
# Session engine (db or cache)
SESSION_ENGINE=django.contrib.sessions.backends.db

# ----------------------------------------------
# Logging
# ----------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ----------------------------------------------
# Cloud Run / Deployment
# ----------------------------------------------
# K_SERVICE=  # Set automatically by Cloud Run
# INSTANCE_CONNECTION_NAME=  # Cloud SQL instance connection name
# DB_USER=  # DB User for Cloud Run
# DB_PASSWORD=  # DB Password for Cloud Run
# DB_NAME=  # DB Name for Cloud Run

# ----------------------------------------------
# Legacy / Other
# ----------------------------------------------
# RSA Private Key (Legacy encryption support)
# RSA_PRIVATE_KEY=
