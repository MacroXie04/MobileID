# ---------- Django ----------
SECRET_KEY="ddcw!zivitci2n=6d-r-4f0%nl%8+j@k7_q5sp(5@^n4=4m1ve"
DEBUG=True

# ---------- Hosts / CORS / CSRF ----------
# Development hosts (localhost + Docker bridge)
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# Allow frontend origins for local dev (Vite / Vue / React dev servers)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,http://localhost:8080,http://127.0.0.1:8080

# CSRF trusted origins (frontend dev servers)
CSRF_TRUSTED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,http://localhost:8080,http://127.0.0.1:8080

# Cross-origin cookies allowed for local testing
CORS_ALLOW_CREDENTIALS=True
SESSION_COOKIE_SAMESITE=Lax
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SAMESITE=Lax
CSRF_COOKIE_SECURE=False

# ---------- Database (Dockerized Django -> host MySQL) ----------
DB_ENGINE=mysql
DB_NAME=mobileid_dev
DB_USER=root
DB_PASSWORD=7355608
DB_HOST=host.docker.internal
DB_PORT=3306

# ---------- Security / sessions / cache ----------
MAX_FAILED_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=30
CACHE_BACKEND=django.core.cache.backends.locmem.LocMemCache
CACHE_LOCATION=unique-snowflake
SESSION_ENGINE=django.contrib.sessions.backends.db

TIME_ZONE=America/Los_Angeles

# ---------- Passkeys / Origins ----------
WEBAUTHN_RP_ID=localhost
BACKEND_ORIGIN=http://localhost:8000

# ---------- Frontend / Domains (needed by compose & local dev) ----------
VITE_API_BASE_URL=http://localhost:8000
FRONTEND_DOMAIN=localhost
BACKEND_DOMAIN=localhost
# Choose which DB profile to use without rebuilding Docker
DB_PROFILE=local     # switch to 'gcp' on Render/Cloud Run when using Cloud SQL

# URL for local dev (MySQL example)
# mysql://USER:PASS@HOST:PORT/DBNAME
DATABASE_URL_LOCAL=mysql://root:7355608@host.docker.internal:3306/mobileid_dev

# URL for GCP / Cloud SQL (examples):
#  - TCP (public IP / connector):
#    postgres://<user>:<pass>@<host>:5432/<db>
#    mysql://<user>:<pass>@<host>:3306/<db>
#  - Unix socket:
#    postgres://<user>:<pass>@/<db>?host=/cloudsql/PROJECT:REGION:INSTANCE
#    mysql://<user>:<pass>@/<db>?unix_socket=/cloudsql/PROJECT:REGION:INSTANCE
DATABASE_URL_GCP=

# Optional SSL for managed DBs
DB_CONN_MAX_AGE=60
DB_SSL_MODE=          # set to 'require' if needed
DB_SSL_DISABLE_VERIFY=false

# Cloud SQL unix socket path (if you prefer socket instead of TCP)
CLOUDSQL_UNIX_SOCKET=
