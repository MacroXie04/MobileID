# =============================================================================
# MobileID Django Project - Environment Variables Example
# =============================================================================
# Copy this file to .env and fill in your actual values.
# DO NOT commit .env to version control - it contains sensitive information.
# =============================================================================

# -----------------------------------------------------------------------------
# Core Django Settings
# -----------------------------------------------------------------------------

# Django secret key (REQUIRED in production)
# Generate a secure key: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=dev-secret-key-change-in-production

# Debug mode (True for development, False for production)
# WARNING: Never set DEBUG=True in production!
DEBUG=True

# Testing mode (set to True when running tests)
# When True, uses in-memory SQLite and disables throttling
TESTING=False

# Environment name (development/production)
ENVIRONMENT=development

# Django settings module (core.settings.dev or core.settings.prod)
# Defaults to core.settings.dev if not set
DJANGO_SETTINGS_MODULE=core.settings.dev

# Time zone (default: America/Los_Angeles)
TIME_ZONE=America/Los_Angeles

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------

# Database profile: "local" or "gcp" (determines which DATABASE_URL to use)
DB_PROFILE=local

# Option 1: Database URL (preferred method)
# For local MySQL: mysql://user:password@127.0.0.1:3306/dbname
# For local Postgres: postgres://user:password@127.0.0.1:5432/dbname
# For Cloud SQL TCP: same format pointing to Cloud SQL proxy IP or public IP
# For Cloud SQL Unix socket (Postgres): postgres://user:password@/dbname?host=/cloudsql/PROJECT:REGION:INSTANCE
# For Cloud SQL Unix socket (MySQL): mysql://user:password@/dbname?unix_socket=/cloudsql/PROJECT:REGION:INSTANCE
DATABASE_URL_LOCAL=postgres://user:password@localhost:5432/mobileid
# DATABASE_URL_GCP=postgres://user:password@/dbname?host=/cloudsql/PROJECT:REGION:INSTANCE

# Option 2: Discrete database variables (fallback if DATABASE_URL not set)
# Database engine: postgresql, mysql, or sqlite3
DB_ENGINE=postgresql

# Database connection details
DB_HOST=localhost
DB_PORT=5432
DB_NAME=mobileid
DB_USER=your_db_user
DB_PASSWORD=your_db_password

# Database connection pool settings
# Connection max age in seconds (persistent connections)
DB_CONN_MAX_AGE=60

# SSL mode for database connections (empty, require, verify-ca, verify-full)
# Leave empty for local development, use "require" for Cloud SQL
DB_SSL_MODE=

# Disable SSL certificate verification (true/false)
# Only use in development/testing environments
DB_SSL_DISABLE_VERIFY=false

# Cloud SQL Unix socket path (overrides DB_HOST if set)
# Format: /cloudsql/PROJECT:REGION:INSTANCE
# CLOUDSQL_UNIX_SOCKET=/cloudsql/my-project:us-central1:my-instance

# -----------------------------------------------------------------------------
# Network & CORS Configuration
# -----------------------------------------------------------------------------

# Allowed hosts (comma-separated list)
# REQUIRED in production - must include your domain
# Development defaults: localhost,127.0.0.1
ALLOWED_HOSTS=localhost,127.0.0.1

# Backend origin URL (used for CSRF trusted origins)
BACKEND_ORIGIN=http://localhost:8000

# CORS allowed origins (comma-separated list)
# REQUIRED in production - must include your frontend domain
# Development defaults: http://localhost:5173,http://localhost:8080,http://127.0.0.1:5173,http://127.0.0.1:8080
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:8080
# CORS_ALLOWED_ORIGINS_DEV=http://localhost:5173,http://localhost:8080,http://127.0.0.1:5173,http://127.0.0.1:8080

# CSRF trusted origins (comma-separated list)
# Should include both backend and frontend origins
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://localhost:5173

# Allow credentials in CORS requests (true/false)
CORS_ALLOW_CREDENTIALS=True

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------

# Cookie security settings
# Session cookie secure flag (requires HTTPS in production)
SESSION_COOKIE_SECURE=False

# CSRF cookie secure flag (requires HTTPS in production)
CSRF_COOKIE_SECURE=False

# CSRF cookie HTTP-only flag
CSRF_COOKIE_HTTPONLY=False

# SSL redirect (redirect HTTP to HTTPS)
# Set to True in production behind a reverse proxy
SECURE_SSL_REDIRECT=False

# HSTS (HTTP Strict Transport Security) seconds
# Set to 63072000 (2 years) in production, 0 to disable
SECURE_HSTS_SECONDS=0

# Content Security Policy
# Development: allows unsafe-inline and unsafe-eval for easier debugging
# Production: stricter policy recommended
CSP_DEFAULT_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: http: https:;

# Account security settings
# Maximum failed login attempts before account lockout
MAX_FAILED_LOGIN_ATTEMPTS=5

# Account lockout duration in minutes
ACCOUNT_LOCKOUT_DURATION=30

# -----------------------------------------------------------------------------
# Cache & Session Configuration
# -----------------------------------------------------------------------------

# Cache backend (default: django.core.cache.backends.locmem.LocMemCache)
# Options: django.core.cache.backends.locmem.LocMemCache, django.core.cache.backends.db.DatabaseCache, etc.
CACHE_BACKEND=django.core.cache.backends.locmem.LocMemCache

# Cache location (unique identifier for cache)
CACHE_LOCATION=unique-snowflake

# Session engine (default: django.contrib.sessions.backends.db)
# Options: django.contrib.sessions.backends.db, django.contrib.sessions.backends.cache, etc.
SESSION_ENGINE=django.contrib.sessions.backends.db

# -----------------------------------------------------------------------------
# Authentication & WebAuthn Settings
# -----------------------------------------------------------------------------

# Login challenge TTL in seconds (default: 120)
# How long a login challenge remains valid
LOGIN_CHALLENGE_TTL_SECONDS=120

# Login challenge nonce bytes (default: 16)
# Number of random bytes used for challenge nonce
LOGIN_CHALLENGE_NONCE_BYTES=16

# RSA private key (legacy support - keys are now stored in database)
# Only needed if using legacy RSA key storage
# RSA_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# Default: INFO in production, DEBUG in development
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Feature Flags & Optional Settings
# -----------------------------------------------------------------------------

# Selenium/ChromeDriver settings (for dynamic barcode generation)
# Chrome/Chromium binary locations are auto-detected, but can be overridden via environment
# ChromeDriver is auto-managed via webdriver-manager

# Note: The following variables are referenced but have defaults in code:
# - TERM_PROGRAM: Used for terminal detection (optional)
# - RSA_KEY_ACTIVE_KID: Force specific RSA key ID (not typically needed)
